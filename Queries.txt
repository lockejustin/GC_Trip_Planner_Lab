CREATE DATABASE TripPlanner;

USE TripPlanner

CREATE TABLE [User](
	UserID INT NOT NULL PRIMARY KEY IDENTITY(1,1),
	UserAddress NVARCHAR(20) NOT NULL,
	PHONE# NVARCHAR(20) NOT NULL,
	DOB DATE NOT NULL
	);

CREATE TABLE Passport(
	PassportNumber INT NOT NULL PRIMARY KEY IDENTITY(1,1),
	ExpDate DATE NOT NULL,
	[Address] NVARCHAR(20) NOT NULL
	);

CREATE TABLE Trip(
	TripID INT NOT NULL PRIMARY KEY IDENTITY(1,1),
	Budget FLOAT NOT NULL,
	DestStart NVARCHAR(20) NOT NULL,
	DestEnd NVARCHAR(20) NOT NULL,
	TravelMode NVARCHAR(20) NOT NULL,
	DateStart DATE NOT NULL,
	DateEnd DATE NOT NULL
	);

CREATE TABLE Hotel(
	HotelID INT NOT NULL PRIMARY KEY IDENTITY(1,1),
	DateCheckIn DATE NOT NULL,
	DateCheckOut DATE NOT NULL,
	CostPerNight FLOAT NOT NULL,
	[Name] NVARCHAR(20) NOT NULL,
	[Address] NVARCHAR(20) NOT NULL,
	Phone# NVARCHAR(20) NOT NULL
	);

CREATE TABLE TripHotel(
	TripHotelID INT NOT NULL PRIMARY KEY IDENTITY(1,1)
	);

ALTER TABLE Passport
ADD UserID INT FOREIGN KEY REFERENCES [User](UserID);

ALTER TABLE Trip
ADD UserID INT FOREIGN KEY REFERENCES [User](UserID);

ALTER TABLE TripHotel
ADD TripID INT FOREIGN KEY REFERENCES Trip(TripID);

ALTER TABLE TripHotel
ADD HotelID INT FOREIGN KEY REFERENCES Hotel(HotelID);
